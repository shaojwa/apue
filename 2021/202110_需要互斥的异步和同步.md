这是我做项目中碰到的一个问题，最开始的想法是使用异步方式，但是，这个异步却需要在一定程度上做互斥。
场景是，一个线程会等待task，这些task会在其他线程上执行，而这个创建线程需要等待其他线程上都完成之后才执行后续的工作。
所以，一种实现方案是，计数task，让任何一个工作task执行完成之后，判断这个task是否为0，如果为0，就尝试唤醒这个等待线程。

但是这些工作线程并不是在在等待之后才开始创建的，而是等待之前就会不断的创建和消亡。所以我们必须要开始等待之后，task_count为0时才唤醒
当没有开始等待时，不能唤醒，如果开始等待前唤醒，那么等待时就无法挂起线程。
